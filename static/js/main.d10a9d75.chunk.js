(this.webpackJsonpblog_platzi=this.webpackJsonpblog_platzi||[]).push([[0],{43:function(e,a,t){e.exports=t(75)},48:function(e,a,t){},49:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"traerTodos",(function(){return x}));var n={};t.r(n),t.d(n,"traerTodas",(function(){return L})),t.d(n,"cambioUsuarioId",(function(){return Q})),t.d(n,"cambioTitulo",(function(){return V})),t.d(n,"agregar",(function(){return W})),t.d(n,"editar",(function(){return X})),t.d(n,"cambioCheck",(function(){return Y})),t.d(n,"eliminar",(function(){return Z})),t.d(n,"limpiarForma",(function(){return $}));var o=t(0),c=t.n(o),u=t(23),s=t.n(u),i=(t(48),t(49),t(10)),l=t(19),p=function(e){return c.a.createElement("nav",{id:"menu"},c.a.createElement(i.b,{to:"/"},"Usuarios"),c.a.createElement(i.b,{to:"/tareas"},"Tareas"))},d=t(14),m=t(15),b=t(17),f=t(16),h=t(18),y=t(4),v=t(3),g=t.n(v),E=t(11),j=t.n(E),_="usuarios_traer_todos",O="usuarios_cargando",k="usuarios_error",x=function(){return function(e){var a;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:O}),t.prev=1,t.next=4,g.a.awrap(j.a.get("https://jsonplaceholder.typicode.com/users"));case 4:a=t.sent,e({type:_,payload:a.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("error:"+t.t0.message),e({type:k,payload:"Informaci\xf3n de usuario no disponible."});case 12:case"end":return t.stop()}}),null,null,[[1,8]])}},w=(t(74),function(e){return c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"lds-spinner"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),C=function(e){return c.a.createElement("h2",{className:"center rojo"},e.mensaje)},R=Object(y.b)((function(e){return e.usuariosReducer}))((function(e){return c.a.createElement("div",null,c.a.createElement("table",{className:"tabla"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nombre"),c.a.createElement("th",null,"Correo"),c.a.createElement("th",null,"Enlace"))),c.a.createElement("tbody",null,e.usuarios.map((function(e,a){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.email),c.a.createElement("td",null,e.website),c.a.createElement("td",null,c.a.createElement(i.b,{to:"/publicaciones/".concat(a)},c.a.createElement("div",{className:"eye-solid icon"}))))})))))})),T=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).ponerContenido=function(){return t.props.cargando?c.a.createElement(w,null):t.props.error?c.a.createElement(C,{mensaje:t.props.error}):0===t.props.usuarios.length?c.a.createElement("div",null,c.a.createElement("h3",null,"No encontramos ning\xfan Usuario")):c.a.createElement(R,null)},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return console.log(this.props),c.a.createElement("div",null,c.a.createElement("h1",null,"Usuarios"),this.ponerContenido())}}]),a}(o.Component),I=Object(y.b)((function(e){return e.usuariosReducer}),r)(T),U=t(21),N=t(1),z="publicaciones_actualizar",A=Object(y.b)((function(e){return e.publicacionesReducer}))((function(e){if(e.com_error)return c.a.createElement(C,{mensaje:e.com_error});if(e.com_cargando&&0===e.comentarios.length)return c.a.createElement(w,null);if(0===e.comentarios.length)return c.a.createElement(C,{mensaje:" Este publicacion no tiene comentarios "});return c.a.createElement("ul",null,e.comentarios.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement("b",null,c.a.createElement("u",null," ",e.email," ")),c.a.createElement("br",null),e.body)})))})),P=x,D=function(e){return function(a,t){var r,n,o,c,u,s,i,l;return g.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return a({type:"publicaciones_cargando"}),r=t().usuariosReducer.usuarios,n=t().publicacionesReducer.publicaciones,o=r[e].id,p.prev=4,p.next=7,g.a.awrap(j.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(o)));case 7:c=p.sent,u=c.data.map((function(e){return Object(N.a)({},e,{comentarios:[],abierto:!1})})),s=[].concat(Object(U.a)(n),[u]),a({type:z,payload:s}),i=s.length-1,(l=Object(U.a)(r))[e]=Object(N.a)({},r[e],{publicaciones_key:i}),a({type:"usuarios_traer_todos",payload:l}),p.next=21;break;case 17:p.prev=17,p.t0=p.catch(4),console.log(p.t0.message),a({type:"publicaciones_error",payload:"Publicaciones no disponibles"});case 21:case"end":return p.stop()}}),null,null,[[4,17]])}},M=function(e,a){return function(t,r){var n=r().publicacionesReducer.publicaciones,o=n[e][a],c=Object(N.a)({},o,{abierto:!o.abierto}),u=Object(U.a)(n);u[e]=Object(U.a)(n[e]),u[e][a]=c,t({type:z,payload:u})}},F=function(e,a){return function(t,r){var n,o,c,u,s;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t({type:"comentarios_cargando"}),n=r().publicacionesReducer.publicaciones,o=n[e][a],i.prev=3,i.next=6,g.a.awrap(j.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(o.id)));case 6:c=i.sent,u=Object(N.a)({},o,{comentarios:c.data}),(s=Object(U.a)(n))[e]=Object(U.a)(n[e]),s[e][a]=u,t({type:"comentarios_actualizar",payload:s}),i.next=18;break;case 14:i.prev=14,i.t0=i.catch(3),console.log(i.t0.message),t({type:"comentarios_error",payload:"Comentarios no disponibles"});case 18:case"end":return i.stop()}}),null,null,[[3,14]])}},G=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).ponerUsuario=function(){var e=t.props,a=e.usuariosReducer,r=e.match.params.key;if(a.error)return c.a.createElement(C,{mensaje:a.error});if(0===a.usuarios.length||a.cargando)return c.a.createElement(w,null);var n=a.usuarios[r].name;return c.a.createElement("h1",null," Publicaciones de ",n," ")},t.ponerPublicaciones=function(){var e=t.props,a=e.usuariosReducer,r=e.usuariosReducer.usuarios,n=e.publicacionesReducer,o=e.publicacionesReducer.publicaciones,u=e.match.params.key;if(r.length&&!a.error){if(n.cargando)return c.a.createElement(w,null);if(n.error)return c.a.createElement(C,{mensaje:n.error});if(0!==o.length&&"publicaciones_key"in r[u]){var s=r[u].publicaciones_key;return t.mostrarInfo(o[s],s)}}},t.mostrarInfo=function(e,a){return e.map((function(e,r){return c.a.createElement("div",{key:e.id,className:"publicaciones-titulo",onClick:function(){return t.mostrarComentarios(a,r,e.comentarios)}},c.a.createElement("h2",null,e.title),c.a.createElement("h3",null,e.body),e.abierto?c.a.createElement(A,{comentarios:e.comentarios}):"")}))},t.mostrarComentarios=function(e,a,r){t.props.abrirCerrar(e,a),0===r.length&&t.props.traerComentarios(e,a)},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e,a,t,r;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.props,a=e.usuariosTraerTodos,t=e.publicacionesTraerPorUsuario,r=e.match.params.key,this.props.usuariosReducer.usuarios.length){n.next=4;break}return n.next=4,g.a.awrap(a());case 4:if(!this.props.usuariosReducer.error){n.next=6;break}return n.abrupt("return");case 6:"publicaciones_key"in this.props.usuariosReducer.usuarios[r]||t(r);case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return console.log(this.props),c.a.createElement("div",null,this.ponerUsuario(),this.ponerPublicaciones())}}]),a}(o.Component),J={usuariosTraerTodos:P,publicacionesTraerPorUsuario:D,abrirCerrar:M,traerComentarios:F},B=Object(y.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),J)(G),S=t(25),q="tareas_traer_todas",H="tareas_guardar",K="tareas_limpiars",L=function(){return function(e){var a,t;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:"tareas_cargando"}),r.prev=1,r.next=4,g.a.awrap(j.a.get("https://jsonplaceholder.typicode.com/todos"));case 4:a=r.sent,t={},a.data.map((function(e){return t[e.userId]=Object(N.a)({},t[e.userId],Object(S.a)({},e.id,Object(N.a)({},e)))})),e({type:q,payload:t}),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),console.log("error:"+r.t0.message),e({type:"tareas_error",payload:"Informaci\xf3n de tareas no disponible."});case 14:case"end":return r.stop()}}),null,null,[[1,10]])}},Q=function(e){return function(a){a({type:"tareas_cambio_usuario_id",payload:e})}},V=function(e){return function(a){a({type:"tareas_cambio_titulo",payload:e})}},W=function(e){return function(a){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"tareas_cargando"}),t.prev=1,t.next=4,g.a.awrap(j.a.post("https://jsonplaceholder.typicode.com/todos",e));case 4:t.sent,a({type:H}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.message),a({type:"tareas_error",payload:"Intente m\xe1s tarde"});case 12:case"end":return t.stop()}}),null,null,[[1,8]])}},X=function(e){return function(a){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"tareas_cargando"}),t.prev=1,t.next=4,g.a.awrap(j.a.put("https://jsonplaceholder.typicode.com/todos/".concat(e.id),e));case 4:t.sent,a({type:H}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.message),a({type:"tareas_error",payload:"Intente m\xe1s tarde"});case 12:case"end":return t.stop()}}),null,null,[[1,8]])}},Y=function(e,a){return function(t,r){var n=r().tareasReducer.tareas,o=n[e][a],c=Object(N.a)({},n);c[e]=Object(N.a)({},n[e]),c[e][a]=Object(N.a)({},n[e][a],{completed:!o.completed}),t({type:"tareas_actualizar",payload:c})}},Z=function(e){return function(a){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"tareas_cargando"}),t.prev=1,t.next=4,g.a.awrap(j.a.delete("https://jsonplaceholder.typicode.com/todos/".concat(e)));case 4:t.sent,a({type:q,payload:{}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),a({type:"tareas_error",payload:"Servicio no disponible"});case 12:case"end":return t.stop()}}),null,null,[[1,8]])}},$=function(){return function(e){e({type:K})}},ee=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).mostrarContenido=function(){var e=t.props,a=e.tareas,r=e.cargando,n=e.error;return r?c.a.createElement(w,null):n?c.a.createElement(C,{mensaje:n}):Object.keys(a).map((function(e){return c.a.createElement("div",{key:e},c.a.createElement("h2",null," Usuario ",e," "),c.a.createElement("div",{className:"contenedor_tareas"},t.ponerTareas(e)))}))},t.ponerTareas=function(e){var a=t.props,r=a.tareas,n=a.cambioCheck,o=a.eliminar,u=Object(N.a)({},r[e]);return Object.keys(u).map((function(a){return c.a.createElement("div",{key:a},c.a.createElement("input",{type:"checkbox",defaultChecked:u[a].completed,onChange:function(){return n(e,a)}}),u[a].title,c.a.createElement("button",{className:"m_left"},c.a.createElement(i.b,{to:"/tareas/guardar/".concat(e,"/").concat(a)},"Editar")),c.a.createElement("button",{className:"m_left",onClick:function(){return o(a)}},"Eliminar"))}))},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){Object.keys(this.props.tareas).length||this.props.traerTodas()}},{key:"componentDidUpdate",value:function(){var e=this.props,a=e.tareas,t=e.cargando,r=e.traerTodas;Object.keys(a).length||t||r()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",null,c.a.createElement(i.b,{to:"/tareas/guardar"},"Agregar")),this.mostrarContenido())}}]),a}(o.Component),ae=Object(y.b)((function(e){return e.tareasReducer}),n)(ee),te=function(e){function a(){var e,t;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).cambioUsuarioId=function(e){t.props.cambioUsuarioId(e.target.value)},t.cambioTitulo=function(e){t.props.cambioTitulo(e.target.value)},t.guardar=function(){var e=t.props,a=e.match.params,r=a.usu_id,n=a.tar_id,o=e.tareas,c=e.usuario_id,u=e.titulo,s=e.agregar,i=e.editar,l={userId:c,title:u,completed:!1};if(r&&n){var p=o[r][n];i(Object(N.a)({},l,{completed:p.completed,id:p.id}))}else s(l)},t.deshabilitar=function(){var e=t.props,a=e.usuario_id,r=e.titulo;return!!e.cargando||(!a||!r)},t.mostrarAccion=function(){var e=t.props,a=e.error;return e.cargando?c.a.createElement(w,null):a?c.a.createElement(C,{mensaje:a}):void 0},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.match.params,t=a.usu_id,r=a.tar_id,n=e.tareas,o=e.cambioUsuarioId,c=e.cambioTitulo,u=e.limpiarForma;if(t&&r){var s=n[t][r];o(s.userId),c(s.title)}else u()}},{key:"render",value:function(){return c.a.createElement("div",null,this.props.regresar?c.a.createElement(l.a,{to:"/tareas"}):"",c.a.createElement("h1",null,"Guardar Tarea"),"Usuario id:",c.a.createElement("input",{type:"number",value:this.props.usuario_id,onChange:this.cambioUsuarioId}),c.a.createElement("br",null),c.a.createElement("br",null),"Titulo:",c.a.createElement("input",{type:"text",value:this.props.titulo,onChange:this.cambioTitulo}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{onClick:this.guardar,disabled:this.deshabilitar()},"Guardar"),this.mostrarAccion())}}]),a}(o.Component),re=Object(y.b)((function(e){return e.tareasReducer}),n)(te),ne=function(){return c.a.createElement(i.a,null,c.a.createElement(p,null),c.a.createElement("div",{className:"margen"},c.a.createElement(l.b,{exact:!0,path:"/",component:I}),c.a.createElement(l.b,{exact:!0,path:"/redux",component:I}),c.a.createElement(l.b,{exact:!0,path:"/tareas",component:ae}),c.a.createElement(l.b,{exact:!0,path:"/publicaciones/:key",component:B}),c.a.createElement(l.b,{exact:!0,path:"/tareas/guardar",component:re}),c.a.createElement(l.b,{exact:!0,path:"/tareas/guardar/:usu_id/:tar_id",component:re})))},oe=t(20),ce=t(42),ue={usuarios:[],cargando:!1,error:""},se={publicaciones:[],cargando:!1,error:"",com_cargando:!1,com_error:""},ie={tareas:{},cargando:!1,error:"",usuario_id:"",titulo:"",regresar:!1},le=Object(oe.c)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _:return Object(N.a)({},e,{usuarios:a.payload,cargando:!1,error:""});case O:return Object(N.a)({},e,{cargando:!0});case k:return Object(N.a)({},e,{error:a.payload,cargando:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return Object(N.a)({},e,{publicaciones:a.payload,cargando:!1,error:""});case"publicaciones_cargando":return Object(N.a)({},e,{cargando:!0});case"publicaciones_error":return Object(N.a)({},e,{error:a.payload,cargando:!1});case"comentarios_actualizar":return Object(N.a)({},e,{publicaciones:a.payload,com_cargando:!1,com_error:""});case"comentarios_cargando":return Object(N.a)({},e,{com_cargando:!0});case"comentarios_error":return Object(N.a)({},e,{com_error:a.payload,com_cargando:!1});default:return e}},tareasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case q:return Object(N.a)({},e,{tareas:a.payload,cargando:!1,error:"",regresar:!1});case"tareas_cargando":return Object(N.a)({},e,{cargando:!0});case"tareas_error":return Object(N.a)({},e,{error:a.payload,cargando:!1});case"tareas_cambio_usuario_id":return Object(N.a)({},e,{usuario_id:a.payload});case"tareas_cambio_titulo":return Object(N.a)({},e,{titulo:a.payload});case H:return Object(N.a)({},e,{tareas:{},cargando:!1,error:"",regresar:!0,usuario_id:"",titulo:""});case"tareas_actualizar":return Object(N.a)({},e,{tareas:a.payload});case K:return Object(N.a)({},e,{usuario_id:"",titulo:""});default:return e}}}),pe=Object(oe.d)(le,{},Object(oe.a)(ce.a));s.a.render(c.a.createElement(y.a,{store:pe},c.a.createElement(ne,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.d10a9d75.chunk.js.map